# STM32模块总结

## 普通IO传感器类

### 1. 外设总结学习

1. GPIO
   - 是通用输入输出端口的简称，就是STM32可控制的引脚，STM32芯片的GPIO引脚与外部设备连接起来，从而实现与外部通讯、控制以及数据采集。
   - GPIO引脚接入到继电器或者三极管，就可以通过继电器或三极管控制外部大功率电路的通断。

2. 中断
   - 引起中断的事件
   - 中断优先级控制
   - 中断响应过程
     1. 保护断点，即保存下一条将要执行的指令的地址，就是把这个地址送入堆栈
     2. 寻找中断入口，根据不同中断源产生的中断，找到相对应的入口地址
     3. 执行中断处理程序
     4. 中断返回，中断事件处理完成之后要回到堆栈中保存的指令的地址继续执行的程序

3. 定时器
   - 能够定时、计数的器件称之为定时器
   - 基本定时器的主要功能就是定时，有各自的可编程预分频器驱动
   - 输入捕获/输出比较，产生PWM波形功能
   - 输出互补带死区的信号，一级刹车功能
   - 看门狗定时器能用于检测程序是否故障，在超出一定时间程序跑飞或者CPU不工作了会产生一次系统复位或者中断（只有窗口看门狗有中断功能）
   - 系统滴答定时器

### 2. 传感器与单片机IO电平匹配说明

1. STM32
   - 电源：在所有的STM32开发板中引出的电源均为3.3V和5V接口
   - IO引脚：在所有的STM32开发板中的I/O引脚作为普通输出时，均为3.3V

### 3. 普通IO反应模块程序流程思路

1. 继电器(参考[https://www.zhihu.com/question/37052790](https://www.zhihu.com/question/37052790))
   - 编写继电器驱动时，考虑到更改硬件环境的情况。建议把继电器检测引脚相关的宏定义到头文件
   - 程序运行第一件事，就是将用到的外设初始化。

2. 光敏
   - 光敏电阻，就是遇到不同的光强，电阻的阻值不同

### 4. 单总线协议模块 

1. DS18B20
   - DS18B20是常用的数字温度传感器，其输出的是数字信号，具有体积小，硬件开销低，抗干扰能力强，精度高的特点（参考[https://baike.baidu.com/item/DS18B20/10295269?fr=aladdin](https://baike.baidu.com/item/DS18B20/10295269?fr=aladdin)）

2. DHT11温湿度传感器
   - DHT11是一款有已校准数字信号输出的温湿度传感器（参考[https://baike.sogou.com/v73984313.htm?fromTitle=DHT11](https://baike.sogou.com/v73984313.htm?fromTitle=DHT11)）

3. 1838红外遥控模块
   - 红外遥控是一种无线、非接触控制技术，具有抗干扰能力强，信息传输可靠，功耗低，成本低，易实现等显著优点(参考[红外遥控简介](https://baike.baidu.com/item/%E7%BA%A2%E5%A4%96%E9%81%A5%E6%8E%A7/10186908?fr=aladdin))
